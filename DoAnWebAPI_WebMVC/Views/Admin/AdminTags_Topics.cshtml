<!-- MAIN CONTENT -->
@{
        ViewData["Title"] = "Quản lý Chủ đề & Tag";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<main class="flex-1 overflow-y-auto p-4 sm:p-6 pt-20 lg:pt-6">
    <h1 class="text-2xl font-bold mb-4 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.586 2.586a2 2 0 0 0-2.828 0L2.172 10.172a2 2 0 0 0 0 2.828l7.414 7.414a2 2 0 0 0 2.828 0l7.414-7.414a2 2 0 0 0 0-2.828Z" /><path d="m18 8-8 8" /><path d="M9.05 14.95 14.95 9.05" /></svg>
        Quản lý Chủ đề & Tag
    </h1>

    <!-- THANH TÌM KIẾM & LỌC -->
    <div class="flex flex-col sm:flex-row justify-between items-center gap-3 mb-6">
        <div class="flex items-center w-full sm:w-2/3 bg-white rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus-within:ring-2 focus-within:ring-blue-400 transition">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400 mr-2"><circle cx="11" cy="11" r="8" /><line x1="21" x2="16.65" y1="21" y2="16.65" /></svg>
            <input type="text"
                   id="search-input"
                   placeholder="Tìm kiếm theo tên chủ đề hoặc tag..."
                   class="flex-1 outline-none text-sm text-gray-700 bg-transparent" />
        </div>

        <div class="flex gap-3 w-full sm:w-auto">
            <select id="filter-select" class="w-full sm:w-40 bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-700 shadow-sm focus:ring-2 focus:ring-blue-400 transition">
                <option value="Tất cả">Tất cả</option>
                <option value="Chủ đề">Chủ đề</option>
                <option value="Tag">Tag</option>
            </select>

            <button id="create-new-button" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm shadow transition flex items-center gap-1 whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="5" y2="19" /><line x1="5" x2="19" y1="12" y2="12" /></svg>
                Tạo mới
            </button>
        </div>
    </div>

    <!-- DANH SÁCH -->
    <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100">
        <table class="w-full text-sm">
            <thead class="bg-gray-100 text-gray-700">
                <tr>
                    <th class="text-left px-4 py-3">Tên</th>
                    <th class="text-left px-4 py-3">Loại</th>
                    <th class="text-left px-4 py-3">Số ảnh</th>
                    <th class="text-left px-4 py-3">Ngày tạo</th>
                </tr>
            </thead>
            <tbody id="data-table-body">
                <!-- Dữ liệu sẽ được JS chèn vào đây -->
            </tbody>
        </table>
    </div>
</main>

<!-- ============== POPUPS ============== -->
<!-- POPUP TẠO MỚI (Mặc định ẩn) -->
<div id="create-popup" class="fixed inset-0 bg-black/40 flex justify-center items-center z-50 px-3 hidden">
    <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold">Tạo mới</h2>
            <button id="close-create-popup" class="text-gray-400 hover:text-gray-700 transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" /><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg>
            </button>
        </div>
        <div class="space-y-3">
            <select class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-400">
                <option value="Chủ đề">Chủ đề</option>
                <option value="Tag">Tag</option>
            </select>
            <input type="text" placeholder="Nhập tên..." class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-400" />
        </div>
        <div class="flex justify-end gap-2 mt-5">
            <button id="cancel-create-popup" class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition text-sm">
                Hủy
            </button>
            <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm">
                Lưu
            </button>
        </div>
    </div>
</div>

<!-- POPUP CHI TIẾT (Mặc định ẩn) -->
<div id="details-popup" class="fixed inset-0 bg-black/40 flex justify-center items-center z-50 px-3 hidden">
    <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative">
        <div class="flex justify-between items-center mb-4">
            <h2 id="details-title" class="text-lg font-semibold">Chi tiết</h2>
            <button id="close-details-popup" class="text-gray-400 hover:text-gray-700 transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" /><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg>
            </button>
        </div>
        <div id="details-content" class="space-y-3 text-sm">
            <!-- Chi tiết sẽ được JS chèn vào đây -->
        </div>
    </div>
</div>
<script src="~/js/AdminTags_Topics.js"></script>